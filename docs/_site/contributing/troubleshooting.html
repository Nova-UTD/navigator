<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/navigator/assets/css/just-the-docs-default.css"> <script src="/navigator/assets/js/vendor/lunr.min.js"></script> <script src="/navigator/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Troubleshooting | Navigator</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Troubleshooting" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Navigator is an open-source autonomous driving system developed by Nova, an applied research group at UT Dallas." /> <meta property="og:description" content="Navigator is an open-source autonomous driving system developed by Nova, an applied research group at UT Dallas." /> <link rel="canonical" href="http://0.0.0.0:8083/navigator/contributing/troubleshooting.html" /> <meta property="og:url" content="http://0.0.0.0:8083/navigator/contributing/troubleshooting.html" /> <meta property="og:site_name" content="Navigator" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Troubleshooting" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Navigator is an open-source autonomous driving system developed by Nova, an applied research group at UT Dallas.","headline":"Troubleshooting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:8083/navigator/assets/res/logo.png"}},"url":"http://0.0.0.0:8083/navigator/contributing/troubleshooting.html"}</script> <!-- End Jekyll SEO tag --> <link rel="shortcut icon" type="image/png" href="/navigator/assets/res/favicon.png"> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/navigator/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/navigator/system-overview.html" class="nav-list-link">System overview</a></li><li class="nav-list-item"><a href="/navigator/sensing/sensing-overview.html" class="nav-list-link">Sensing</a></li><li class="nav-list-item"><a href="/navigator/perception/segmentation.html" class="nav-list-link">Semantic segmentation</a></li><li class="nav-list-item"><a href="/navigator/perception/perception-overview.html" class="nav-list-link">Perception</a></li><li class="nav-list-item"><a href="/navigator/perception/mapping.html" class="nav-list-link">Localization and Mapping</a></li><li class="nav-list-item active"><a href="/navigator/contributing/troubleshooting.html" class="nav-list-link active">Troubleshooting</a></li><li class="nav-list-item"><a href="/navigator/controls/controls-overview.html" class="nav-list-link">Controls</a></li><li class="nav-list-item"><a href="/navigator/contributing/contributing-overview.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/navigator/simulation/simulation-overview.html" class="nav-list-link">Simulation</a></li><li class="nav-list-item"><a href="/navigator/interface/schematics.html" class="nav-list-link">Schematics</a></li><li class="nav-list-item"><a href="/navigator/interface/interface-overview.html" class="nav-list-link">Interface</a></li><li class="nav-list-item"><a href="/navigator/planning/design.html" class="nav-list-link">Behavior Planning and Controls Design Document (draft)</a></li><li class="nav-list-item"><a href="/navigator/opendrivepy.html" class="nav-list-link">OpenDrivePy</a></li><li class="nav-list-item"><a href="/navigator/perception/perception_new.html" class="nav-list-link">Perception and Prediction Design Document (draft)</a></li><li class="nav-list-item"><a href="/navigator/planning/planning-overview.html" class="nav-list-link">Planning</a></li><li class="nav-list-item"><a href="/navigator/writing-documentation.html" class="nav-list-link">Writing documentation</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://nova-utd.github.io" class="nav-list-link external"> Learn about Nova <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Navigator" aria-label="Search Navigator" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//nova-utd.github.io" class="site-button" > Learn about Nova </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="troubleshooting"> <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting </h1> <p><em>Maintained by Nova members</em></p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#new-publisher-discovered-on-this-topic-offering-incompatible-qos" id="markdown-toc-new-publisher-discovered-on-this-topic-offering-incompatible-qos">“New publisher discovered on this topic, offering incompatible QoS”</a> <ol> <li><a href="#solution" id="markdown-toc-solution">Solution</a></li> </ol> </li> <li><a href="#runtimeerror-trying-to-create-rpc-server-for-traffic-manager" id="markdown-toc-runtimeerror-trying-to-create-rpc-server-for-traffic-manager">“RuntimeError: trying to create rpc server for traffic manager…”</a></li> <li><a href="#when-running-the-leaderboard-evaluator-no-module-named-agent" id="markdown-toc-when-running-the-leaderboard-evaluator-no-module-named-agent">When running the leaderboard evaluator: “No module named ‘agent’”</a> <ol> <li><a href="#solution-ensure-that-there-isnt-a-typo-in-the---agent-flag-to-leaderboard_evaluatorpy-as-of-writing-this-is-in-leaderboardbash" id="markdown-toc-solution-ensure-that-there-isnt-a-typo-in-the---agent-flag-to-leaderboard_evaluatorpy-as-of-writing-this-is-in-leaderboardbash">Solution: Ensure that there isn’t a typo in the <code class="language-plaintext highlighter-rouge">--agent</code> flag to <code class="language-plaintext highlighter-rouge">leaderboard_evaluator.py</code>. As of writing, this is in <code class="language-plaintext highlighter-rouge">leaderboard.bash</code>.</a></li> </ol> </li> <li><a href="#the-rmw-implementation-has-been-specified-as" id="markdown-toc-the-rmw-implementation-has-been-specified-as">“The RMW implementation has been specified as…”</a> <ol> <li><a href="#solution-1" id="markdown-toc-solution-1">Solution</a></li> </ol> </li> </ol><hr /> <h3 id="new-publisher-discovered-on-this-topic-offering-incompatible-qos"> <a href="#new-publisher-discovered-on-this-topic-offering-incompatible-qos" class="anchor-heading" aria-labelledby="new-publisher-discovered-on-this-topic-offering-incompatible-qos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> “New publisher discovered on this topic, offering incompatible QoS” </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[WARN] [1669075701.737584987] [leaderboard_node]: New publisher discovered on this topic, offering incompatible QoS. No messages will be received from it. Last incompatible policy: DURABILITY_QOS_POLICY
</code></pre></div></div> <p>A warning similar to the above example will appear when a publisher and subscriber attempt to exchange messages with incompatible quality of service QoS policies.</p> <h4 id="solution"> <a href="#solution" class="anchor-heading" aria-labelledby="solution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solution </h4> <p>Edit the QoS policy of either the relevant publisher or subscriber so that the two can “speak” to each other.</p> <p>For more information on QoS in ROS2, including compatibility between policies, <a href="https://docs.ros.org/en/rolling/Concepts/About-Quality-of-Service-Settings.html">see here</a>.</p> <h3 id="runtimeerror-trying-to-create-rpc-server-for-traffic-manager"> <a href="#runtimeerror-trying-to-create-rpc-server-for-traffic-manager" class="anchor-heading" aria-labelledby="runtimeerror-trying-to-create-rpc-server-for-traffic-manager"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> “RuntimeError: trying to create rpc server for traffic manager…” </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
  File "/workspace/leaderboard/leaderboard/leaderboard_evaluator.py", line 83, in __init__
    self.traffic_manager = self.client.get_trafficmanager(args.traffic_manager_port)
RuntimeError: trying to create rpc server for traffic manager; but the system failed to create because of bind error.
</code></pre></div></div> <p>This is caused when a CARLA client attempts to connect to CARLA on a port that is already being used. This is either because:</p> <ol> <li>Another user is currently using the simulator <ul> <li>In which case you should change your port by using the <code class="language-plaintext highlighter-rouge">--traffic_manager_port</code> or similar, depending on which script you’re running</li> </ul> </li> <li>An earlier CARLA client has died before it freed its port, and so there is some orphaned Python process on the system that is using up the RPC port. One brute force method is to run <code class="language-plaintext highlighter-rouge">sudo pkill -9 python</code>, but this is a very ugly solution.</li> </ol> <h3 id="when-running-the-leaderboard-evaluator-no-module-named-agent"> <a href="#when-running-the-leaderboard-evaluator-no-module-named-agent" class="anchor-heading" aria-labelledby="when-running-the-leaderboard-evaluator-no-module-named-agent"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> When running the leaderboard evaluator: “No module named ‘agent’” </h3> <p><small>As of 12 Nov ‘22</small></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ./leaderboard.bash
Starting the CARLA evaluation script.
This may take some time. Sit tight!
Traceback (most recent call last):
...
ModuleNotFoundError: No module named 'agent'
</code></pre></div></div> <h4 id="solution-ensure-that-there-isnt-a-typo-in-the---agent-flag-to-leaderboard_evaluatorpy-as-of-writing-this-is-in-leaderboardbash"> <a href="#solution-ensure-that-there-isnt-a-typo-in-the---agent-flag-to-leaderboard_evaluatorpy-as-of-writing-this-is-in-leaderboardbash" class="anchor-heading" aria-labelledby="solution-ensure-that-there-isnt-a-typo-in-the---agent-flag-to-leaderboard_evaluatorpy-as-of-writing-this-is-in-leaderboardbash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solution: Ensure that there isn’t a typo in the <code class="language-plaintext highlighter-rouge">--agent</code> flag to <code class="language-plaintext highlighter-rouge">leaderboard_evaluator.py</code>. As of writing, this is in <code class="language-plaintext highlighter-rouge">leaderboard.bash</code>. </h4> <h3 id="the-rmw-implementation-has-been-specified-as"> <a href="#the-rmw-implementation-has-been-specified-as" class="anchor-heading" aria-labelledby="the-rmw-implementation-has-been-specified-as"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> “The RMW implementation has been specified as…” </h3> <p><small>As of 11 Nov ‘22</small></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CMake Error at /opt/ros/foxy/share/rmw_implementation/cmake/rmw_implementation-extras.cmake:54 (message):
    The RMW implementation has been specified as 'rmw_cyclonedds_cpp' via
    environment variable 'RMW_IMPLEMENTATION', but it is not available at this time.

    Currently available middlewares:

    'rmw_fastrtps_cpp'
</code></pre></div></div> <h4 id="solution-1"> <a href="#solution-1" class="anchor-heading" aria-labelledby="solution-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solution </h4> <p>Navigator uses a slightly modified ROS Middleware (RMW) implementation called CycloneDDS. In order for ROS and its nodes to use it, our custom version must be built and sourced, just like any other ROS workspace.</p> <p>Docker includes the CycloneDDS workspace under <code class="language-plaintext highlighter-rouge">/opt/cyclone_ws</code>, and this workspace should be sourced automatically as part of the Docker <code class="language-plaintext highlighter-rouge">entrypoint.sh</code>. If you receive the above error, CycloneDDS was either not properly built or sourced.</p> <p>You can verify that the CycloneDDS is loaded properly using the command <code class="language-plaintext highlighter-rouge"># ros2 doctor --report</code>, which should show:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
processor        : x86_64

   RMW MIDDLEWARE
middleware name    : rmw_cyclonedds_cpp
...
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
